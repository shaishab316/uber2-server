model Transaction {
  id                    String           @id @default(uuid())
  created_at            DateTime         @default(now())
  updated_at            DateTime         @updatedAt
  stripe_transaction_id String?
  user_id               String
  driver_id             String?
  amount                Float
  type                  ETransactionType @default(TOPUP)
  payment_method        String           @default("unknown")

  ref_trip_id   String?
  ref_parcel_id String?

  user   User    @relation(fields: [user_id], references: [id])
  trip   Trip?   @relation(fields: [ref_trip_id], references: [id])
  parcel Parcel? @relation(fields: [ref_parcel_id], references: [id])

  @@map("transactions")
}

enum ETransactionType {
  TOPUP
  EXPENSE
  WITHDRAW
}
