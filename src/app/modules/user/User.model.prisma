model User {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  //! auth
  role        EUserRole @default(USER)
  email       String?
  phone       String?
  password    String
  is_verified Boolean   @default(false)
  is_active   Boolean   @default(false)
  is_admin    Boolean   @default(false)

  // only for admin verification
  is_verification_pending Boolean?
  //! end

  //! profile
  avatar        String   @default("/images/placeholder.png")
  name          String   @default("Pathao User")
  date_of_birth DateTime @default(now())
  gender        EGender  @default(OTHER)
  nid_photo     String?
  //! end

  //! driver
  driving_license            String?
  vehicle_type               String?
  vehicle_brand              String?
  vehicle_model              String?
  vehicle_plate_number       String?
  vehicle_registration_photo String?
  vehicle_photo              String?
  //! end

  wallet               Wallet?           @relation("UserWallet")
  trips_received       Trip[]            @relation("Passenger")
  trips_given          Trip[]            @relation("Driver")
  available_drivers    AvailableDriver[]
  DriverCancelTrips    CancelTrip[]      @relation("DriverCancelTrips")
  PassengerCancelTrips CancelTrip[]      @relation("PassengerCancelTrips")
  driver_chat          Chat[]            @relation("DriverChat")
  user_chat            Chat[]            @relation("UserChat")
  driver_message       Message[]         @relation("DriverMessage")
  user_message         Message[]         @relation("UserMessage")
  Loan                 Loan[]
  Transaction          Transaction[]

  @@map("users")
}

enum EUserRole {
  USER
  DRIVER
}

type TLocation {
  type    String  @default("Point")
  geo     Float[]
  address String?
}

enum EGender {
  MALE
  FEMALE
  OTHER
}
