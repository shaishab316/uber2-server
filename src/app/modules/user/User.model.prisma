model User {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  //! auth
  role        EUserRole @default(USER)
  email       String?
  phone       String?
  password    String
  is_verified Boolean   @default(false)
  is_active   Boolean   @default(false)
  is_admin    Boolean   @default(false)

  // only for admin verification
  is_verification_pending Boolean?
  //! end

  //! profile
  avatar        String   @default("/images/placeholder.png")
  name          String   @default("Pathao User")
  date_of_birth DateTime @default(now())
  gender        EGender  @default(OTHER)
  nid_photos    String[]
  //! end

  //! driver
  driving_license_photos      String[]
  vehicle_type                String?
  vehicle_brand               String?
  vehicle_model               String?
  vehicle_plate_number        String?
  vehicle_registration_photos String[]
  vehicle_photos              String[]
  //! end

  //! trip history
  trip_given_count    Int @default(0) // for drivers
  trip_received_count Int @default(0) // for users
  //! end

  //! rating
  rating       Float @default(5.0)
  rating_count Int   @default(0)
  //! end

  //! location
  location TLocation?
  //! end

  //! online status
  is_online Boolean @default(false)
  //! end

  wallet         Wallet?       @relation("UserWallet")
  transactions   Transaction[]
  user_parcels   Parcel[]      @relation("UserParcel")
  driver_parcels Parcel[]      @relation("DriverParcel")

  @@map("users")
}

enum EUserRole {
  USER
  DRIVER
}

type TLocation {
  type    String  @default("Point")
  geo     Float[]
  address String?
}

enum EGender {
  MALE
  FEMALE
  OTHER
}
